<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>طراح کارتونی آفلاین</title>
<style>
body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; background: #f0f0f0; }
canvas { border:1px solid #333; margin-top: 20px; }
input, button { margin: 5px; padding: 10px; font-size: 16px; }
</style>
</head>
<body>
<h2>طراح کارتونی</h2>
<input type="text" id="prompt" placeholder="مثال: گرگ و گوسفند">
<button onclick="drawImage()">ساخت تصویر</button>
<button onclick="downloadImage()">دانلود تصویر</button>
<canvas id="canvas" width="500" height="500"></canvas>

<script>
// تصاویر آماده (باید تصاویر PNG کارتونی خودت را قرار بدهی)
const images = {
  'گرگ': 'wolf.png',
  'گوسفند': 'sheep.png',
  'گربه': 'cat.png',
  'سگ': 'dog.png',
  'خورشید': 'sun.png',
  'درخت': 'tree.png'
};

const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

async function drawImage() {
  const prompt = document.getElementById('prompt').value;
  ctx.clearRect(0,0,canvas.width,canvas.height);
  // بک‌گراند سفید
  ctx.fillStyle = '#fff';
  ctx.fillRect(0,0,canvas.width,canvas.height);

  for (const key in images) {
    if(prompt.includes(key)) {
      const img = new Image();
      img.src = images[key];
      await new Promise(res => { img.onload = res; });
      // جایگذاری تصادفی روی بوم
      const x = Math.random() * (canvas.width - 150);
      const y = Math.random() * (canvas.height - 150);
      ctx.drawImage(img, x, y, 150, 150);
    }
  }
}

function downloadImage() {
  const link = document.createElement('a');
  link.download = 'cartoon_design.png';
  link.href = canvas.toDataURL();
  link.click();
}
</script>
</body>
</html>
