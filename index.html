<!doctype html>
<html lang="fa">
<head>
<meta charset="utf-8">
<title>چت بات نمایشی - مدل سنگین</title>
<style>
  body { font-family: Tahoma, sans-serif; background:#f6f7fb; color:#111; padding:20px; }
  #chat { background:#fff; border:1px solid #ddd; padding:12px; height:420px; overflow:auto; }
  .u { color:#0b63d6; margin:8px 0; }
  .a { color:#0b8a5f; margin:8px 0; }
  #controls { margin-top:12px; }
  input[type="text"]{ width:70%; padding:8px; }
  button{ padding:8px 12px; }
  .meta { font-size:12px; color:#666; margin-top:10px; }
</style>
</head>
<body>
<h2>چت بات (مدل سنگین - نمایشی)</h2>
<div id="chat"><div class="meta">این رابط فقط نمایشی است. مدل سنگین باید در سرور یا محیط آموزشی شما اجرا شود.</div></div>

<div id="controls">
  <input id="msg" type="text" placeholder="پیام خود را بنویسید...">
  <button id="send">ارسال</button>
  <button id="addData">افزودن به dataset (محلی)</button>
</div>

<script>
const chat = document.getElementById('chat');
const msg = document.getElementById('msg');

function appendUser(text){
  const d = document.createElement('div'); d.className='u'; d.textContent='شما: ' + text; chat.appendChild(d); chat.scrollTop = chat.scrollHeight;
}
function appendBot(text){
  const d = document.createElement('div'); d.className='a'; d.textContent='مدل: ' + text; chat.appendChild(d); chat.scrollTop = chat.scrollHeight;
}

document.getElementById('send').addEventListener('click', ()=>{
  const t = msg.value.trim(); if(!t) return;
  appendUser(t);
  appendBot('در حال پردازش... (مدل بزرگ باید در سرور آموزشی اجرا شود).');
  setTimeout(()=> {
    appendBot('پاسخ نمایشی: برای پاسخگویی کامل، مدل سنگین را در سرور آموزش دیده اجرا کنید.');
  }, 1200);
  msg.value='';
});

document.getElementById('addData').addEventListener('click', ()=>{
  const t = msg.value.trim(); if(!t){ alert('ابتدا پیام را وارد کنید.'); return; }
  let ds = localStorage.getItem('user_dataset') || '';
  ds += '<|user|> ' + t + '\\n<|assistant|> ' + ' [پاسخ مورد انتظار خود را اینجا بنویسید]\\n\\n';
  localStorage.setItem('user_dataset', ds);
  alert('پیام به dataset محلی اضافه شد. می‌توانید آن را استخراج کرده و برای آموزش استفاده کنید.');
});
</script>

</body>
</html>
